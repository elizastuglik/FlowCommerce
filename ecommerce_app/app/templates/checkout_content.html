<!-- Questo è il contenuto del checkout che sarà aggiornato -->
<div id="checkout-form">
    <form hx-post="{{ url_for('create_order') }}" hx-target="#checkout-form" hx-swap="outerHTML" method="POST">
        {% if not user %}
        <div class="mb-3">
            <label for="email" class="form-label">Email</label>
            <input type="email" class="form-control" id="email" name="email" required>
        </div>
        {% endif %}
        <div class="mb-3">
            <label for="name" class="form-label">Nome Completo</label>
            <input type="text" class="form-control" id="name" name="name" required value="{{ user_data['first_name'] + ' ' + user_data['last_name'] if user_data else '' }}">
        </div>
        <div class="mb-3">
            <label for="address" class="form-label">Indirizzo</label>
            <input type="text" class="form-control" id="address" name="address" required value="{{ user_data['address'] if user_data else '' }}">
        </div>
        <div class="mb-3">
            <label for="city" class="form-label">Città</label>
            <input type="text" class="form-control" id="city" name="city" required value="{{ user_data['city'] if user_data else '' }}">
        </div>
        <div class="mb-3">
            <label for="cap" class="form-label">CAP</label>
            <input type="text" class="form-control" id="cap" name="cap" required value="{{ user_data['cap'] if user_data else '' }}">
        </div>
        <div class="mb-3">
            <label for="country" class="form-label">Paese</label>
            <input type="text" class="form-control" id="country" name="country" required value="{{ user_data['country'] if user_data else '' }}">
        </div>
        <div class="mb-3">
            <label for="card_number" class="form-label">Numero di Carta</label>
            <input type="text" class="form-control" id="card_number" name="card_number" required pattern="\d{16}">
        </div>
        <div class="mb-3">
            <label for="expiry_date" class="form-label">Data di Scadenza (MM/YY)</label>
            <input type="text" class="form-control" id="expiry_date" name="expiry_date" required pattern="\d{2}/\d{2}">
        </div>
        <div class="mb-3">
            <label for="cvv" class="form-label">CVV</label>
            <input type="text" class="form-control" id="cvv" name="cvv" required pattern="\d{3}">
        </div>
        <button type="submit" class="btn btn-primary">Effettua Ordine</button>
    </form>
</div>

